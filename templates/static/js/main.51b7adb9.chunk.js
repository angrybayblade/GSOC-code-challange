(this.webpackJsonpdev=this.webpackJsonpdev||[]).push([[0],{104:function(e,a,t){},105:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(33),l=t.n(c),o=(t(42),t(8)),i=t.n(o),s=t(6),m=t(9),d=t(34),u=t(2),v=t(35),p=t.n(v),g=t(36),b=t.n(g),f=(t(104),function(e){return r.a.createElement("div",{className:"images"},e.gallery.data.map((function(a,t){return r.a.createElement("div",{className:a.name===e.image.name?"img-div img-selected":"img-div",key:t,onClick:function(){e.loaderState({data:!0}),e.imageState(a),e.cState({data:a.boxes,canvas:void 0}),e.clsState({data:Object(s.a)(a.classes)}),e.loaderState({data:!1})}},r.a.createElement("img",{className:a.name===e.image.name?"img selected":void 0,src:a.image}))})))});function E(){return(E=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function x(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var h=r.a.createElement("g",null,r.a.createElement("path",{d:"M33.125,35H6.875c-0.519,0-0.938-0.421-0.938-0.938v-5.75c0-0.519,0.419-0.938,0.938-0.938c0.518,0,0.938,0.42,0.938,0.938 v4.813h24.375v-4.813c0-0.519,0.419-0.938,0.938-0.938c0.518,0,0.938,0.42,0.938,0.938v5.75C34.063,34.579,33.643,35,33.125,35"}),r.a.createElement("path",{d:"M27.576,14.153c-0.234,0-0.47-0.087-0.651-0.264L20.041,7.24l-6.884,6.649c-0.371,0.36-0.965,0.351-1.325-0.021 c-0.359-0.374-0.349-0.966,0.024-1.326l7.535-7.277c0.362-0.354,0.939-0.354,1.301,0l7.535,7.277 c0.373,0.36,0.383,0.952,0.023,1.326C28.065,14.057,27.821,14.153,27.576,14.153"}),r.a.createElement("path",{d:"M20.041,29.248c-0.518,0-0.937-0.42-0.937-0.937V5.937C19.104,5.421,19.523,5,20.041,5c0.519,0,0.938,0.421,0.938,0.937 v22.375C20.979,28.828,20.56,29.248,20.041,29.248"})),y=function(e){var a=e.svgRef,t=e.title,n=x(e,["svgRef","title"]);return r.a.createElement("svg",E({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40",xmlSpace:"preserve",ref:a},n),t?r.a.createElement("title",null,t):null,h)},N=r.a.forwardRef((function(e,a){return r.a.createElement(y,E({svgRef:a},e))})),O=(t.p,function(e){return r.a.createElement("div",{className:"upload"},r.a.createElement("input",{type:"file",name:"image",id:"image",className:"file-upload",onChange:e.upload}),r.a.createElement("label",{htmlFor:"image",className:"label-drag"},r.a.createElement(N,null)))}),k=function(e){return r.a.createElement("div",{className:"box-panel"},r.a.createElement("div",{className:"image-name"},"string"==typeof e.image.name?e.image.name:"Select Image"),r.a.createElement("div",{className:"box-rows"},e.cls.data.map((function(a,t){return r.a.createElement("div",{key:t,className:"box-row"},a.name,r.a.createElement("input",{type:"checkbox",id:"checkbox-"+t,value:t,onChange:e.selectClass,defaultChecked:a.render}),r.a.createElement("label",{style:{border:a.color+" solid 3px",backgroundColor:a.render?a.color:"white"},className:"checkbox",htmlFor:"checkbox-"+t}))}))))},w=function(e){var a=e.box;return r.a.createElement("div",{className:"box",style:{position:"absolute",left:a.box.xmin-5,top:a.box.ymin-10,height:a.box.ymax-a.box.ymin+10,width:a.box.xmax-a.box.xmin+5,border:a.box_color+" solid 2px"}},r.a.createElement("div",{style:{background:a.box_color,color:"rgba(0,0,0,0.95)",padding:"2x",fontSize:"1.2vh",fontWeight:"500",letterSpacing:"1px"}},a.class),a.mask)},S=function(e){return r.a.createElement("div",{className:"image-canvas"},r.a.createElement("div",{className:"draw"},r.a.createElement("div",{className:"img"},r.a.createElement("div",{className:"canvas"},e.c.data.map((function(e,a){return!1!==e.render?r.a.createElement(w,{box:e,key:a}):void 0}))),r.a.createElement("img",{src:e.image.image}))))},j=function(e){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))};var C=function(){var e,a=r.a.useState({name:void 0}),t=Object(u.a)(a,2),n=t[0],c=t[1],l=r.a.useState({data:[]}),o=Object(u.a)(l,2),v=o[0],g=o[1],E=r.a.useState({data:[]}),x=Object(u.a)(E,2),h=x[0],y=x[1],N=r.a.useState({data:0}),w=Object(u.a)(N,2),C=w[0],B=w[1],P=r.a.useState({data:!1}),R=Object(u.a)(P,2),F=R[0],I=R[1],M=r.a.useState({data:[]}),W=Object(u.a)(M,2),_=W[0],J=W[1];function L(){return(L=Object(d.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I({data:!0}),(t=new FormData).append("image",a.target.files[0]),t.append("type",1),e.next=6,p()({url:"/predict",method:"POST",data:t}).then((function(e){e.data.boxes=e.data.boxes.map((function(e,a){var t=e.mask;return e.mask=r.a.createElement("div",null,b()(t)),e}));var a=_.data;a.reverse(),a.push(e.data),a.reverse(),J({data:a}),c(e.data),g({data:e.data.boxes}),y({data:Object(s.a)(e.data.classes)}),B({data:C.data+1}),I({data:!1})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"panel"},F.data?r.a.createElement(j,null):r.a.createElement(S,{c:v,image:n}),"string"===typeof n.name?r.a.createElement(k,{image:n,cls:h,selectClass:function(a){var t={},r=Number(a.target.value),l=h.data;for(e in l[r].render=a.target.checked,y({data:l}),l)t[l[e].name]=l[e].render;l=n.boxes.map((function(e,a){return e.render=t[e.class],e})),(n=Object(m.a)({},n)).boxes=l,c(Object(m.a)({},n)),B({data:100})},tut:C}):void 0),r.a.createElement("div",{className:"gallery"},r.a.createElement(O,{upload:function(e){return L.apply(this,arguments)}}),r.a.createElement(f,{gallery:_,cState:g,clsState:y,imageState:c,image:n,loaderState:I}))),r.a.createElement("div",{className:0===C.data?"upload-tut":void 0}),r.a.createElement("div",{className:1===C.data?"box-tut":void 0}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,a,t){e.exports=t(105)},42:function(e,a,t){},85:function(e,a){}},[[37,1,2]]]);
//# sourceMappingURL=main.51b7adb9.chunk.js.map